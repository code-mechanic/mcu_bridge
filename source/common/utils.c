#include <common/utils.h>

// +--------------------------------------------------------------------------+
// |                                                                          |
// |                                 Private                                  |
// |                          Definitions and Macros                          |
// |                                                                          |
// +--------------------------------------------------------------------------+

// +--------------------------------------------------------------------------+
// |                                                                          |
// |                                 Private                                  |
// |                                 Typedefs                                 |
// |                                                                          |
// +--------------------------------------------------------------------------+

// +--------------------------------------------------------------------------+
// |                                                                          |
// |                                 Private                                  |
// |                           Function Prototypes                            |
// |                                                                          |
// +--------------------------------------------------------------------------+

// +--------------------------------------------------------------------------+
// |                                                                          |
// |                                 Private                                  |
// |                          Variable Declarations                           |
// |                                                                          |
// +--------------------------------------------------------------------------+

// +--------------------------------------------------------------------------+
// |                                                                          |
// |                                  Public                                  |
// |                                Functions                                 |
// |                                                                          |
// +--------------------------------------------------------------------------+

void float_to_str(char* str, size_t str_len, float val)
{
    char* sign_val = (val < 0) ? "-" : "";
    float tmp      = (val < 0) ? -val : val;
    int   int_val  = (int) tmp;
    int   frac_val = (tmp - int_val) * 1000;
    snprintf(str, str_len, "%s%d.%03d", sign_val, int_val, frac_val);
}

status_t hex_to_int(char hex_digit, uint8_t* p_val)
{
    status_t status = STATUS_SUCCESS;

    if('0' <= hex_digit && hex_digit <= '9') {
        *p_val = hex_digit - '0';
    } else if('a' <= hex_digit && hex_digit <= 'f') {
        *p_val = hex_digit - 'a' + 10;
    } else if('A' <= hex_digit && hex_digit <= 'F') {
        *p_val = hex_digit - 'A' + 10;
    } else {
        status = STATUS_INVALID_PARAMS;
    }

    return status;
}

// +--------------------------------------------------------------------------+
// |                                                                          |
// |                                 Private                                  |
// |                                Functions                                 |
// |                                                                          |
// +--------------------------------------------------------------------------+

// +--------------------------------------------------------------------------+
// |                                                                          |
// |                                 Private                                  |
// |                            Callback Handlers                             |
// |                                                                          |
// +--------------------------------------------------------------------------+
